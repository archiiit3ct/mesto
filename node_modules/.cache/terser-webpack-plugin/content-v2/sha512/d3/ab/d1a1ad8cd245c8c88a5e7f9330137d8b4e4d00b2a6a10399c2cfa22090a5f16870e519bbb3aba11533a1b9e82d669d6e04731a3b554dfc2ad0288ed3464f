{"code":"!function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=0)}([function(e,t){!function(){const e=document.forms.new,t=document.forms.edit,r=document.querySelector(\".popup\"),o=document.querySelector(\".places-list\"),n=new Card,c=new CardList(o,n,e),u=new FormValidator(document.querySelector(\".popup\")),l=new FormValidator(document.querySelector(\".popup-edit\")),i=new Popup(document.querySelector(\".popup\")),a=new Popup(document.querySelector(\".popup-edit\")),d=new UserInfo(t,document.querySelector(\".user-info__name\"),document.querySelector(\".user-info__job\")),s=new Popup(document.querySelector(\".popup-bigpic\"));document.querySelector(\".places-list\").addEventListener(\"click\",(function(e){if(e.target.closest(\".place-card__delete-icon\")){if(!window.confirm(\"Вы действительно хотите удалить эту карточку?\"))return;_.deleteCard(e.target.id).then(t=>{console.log(t),alert(t.message),n.remove(e)}).catch(e=>{console.error(e),alert(\"Не удалось удалить пост\")})}})),document.querySelector(\".places-list\").addEventListener(\"click\",n.like),document.forms.new.addEventListener(\"submit\",(function(t){t.preventDefault(),_.addCard(e.elements.name.value,e.elements.link.value).then(e=>{c.addCard(e.name,e.link,e.likes.length,e._id,\"button__active\"),r.classList.remove(\"popup_is-opened\")}).catch(e=>console.error(\"Error: \",e)),t.target.reset()})),document.querySelector(\".user-info__button\").addEventListener(\"click\",()=>{i.open(),u.setEventListeners()}),document.querySelector(\".popup__close\").addEventListener(\"click\",()=>{i.close(),e.reset()}),document.querySelector(\".popup-edit__info-button\").addEventListener(\"click\",()=>{a.open(),d.setUserInfo(),l.setEventListeners()}),document.querySelector(\".popup-edit__close\").addEventListener(\"click\",a.close.bind(a)),document.querySelector(\".popup-edit__form\").addEventListener(\"submit\",e=>{e.preventDefault();const t=e.target.querySelector(\"#jobInput\").value,r=e.target.querySelector(\"#nameInput\").value;_.editProfile(r,t).then(e=>{d.updateUserInfo(e.name,e.about),a.close(a)}).catch(e=>console.error(\"Error: \",e))}),document.querySelector(\".places-list\").addEventListener(\"click\",e=>{e.target.classList.contains(\"place-card__image\")&&(s.open(),s.openImage(e))}),document.querySelector(\".popup__close_big-pic\").addEventListener(\"click\",()=>{s.closeImage()});const p=document.querySelector(\".user-info__name\"),m=document.querySelector(\".user-info__job\"),f=document.querySelector(\".user-info__photo\"),_=new Api(\"https://praktikum.tk/cohort8/\",\"226384b6-e4f9-420c-aeac-b659b74a1b4c\");_.userData().then(e=>{p.textContent=e.name,m.textContent=e.about,f.style.backgroundImage=`url('${e.avatar}')`}).catch(e=>console.error(e)),_.getInitCards().then(e=>{c.render(e)}).catch(e=>console.error(\"Error: \",e))}()}]);","extractedComments":[]}